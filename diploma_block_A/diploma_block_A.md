# Курсовая работа блока А "Настройки и справочники"

## Описание задачи
Создать конфигурацию "Управление ИТ-фирмой" с базовым набором справочников, поддерживающую управление пользователями ИБ в режиме Предприятия.

## Требования к результату

Выгрузка информационной базы (.dt) с конфигурация с именем "УправлениеИТФирмой", содержащей:

### Перечисление ЮридическоеФизическоеЛицо

#### Со значениями
ЮридическоеЛицо, ФизическоеЛицо

### Справочник Контрагенты

#### С реквизитами
ПолноеНаименование, ИНН, КПП, EMail, Телефон, ФактическийАдрес, ЮридическийАдрес, Тип (ПеречислениеСсылка.ЮридическоеФизическоеЛицо), Ответственный (СправочникСсылка.Сотрудники).
Типы должны быть подходящими, их длина и точность - разумно достаточными.

#### С формой элемента

КПП должен быть доступен только для контрагентов-юридических лиц. Доступность должна отрабатываться как при изменении типа, так и при перечитывании элемента справочника из ИБ.

При изменении наименования полное наименование должно заполняться с разворачиванием распространенных сокращений организационно-правовых форм (например, *АО "Вектор"* должно превращаться в *Акционерное общество "Вектор"*).

Должна быть реализована проверка корректности ИНН как для физических, так и для юридических лиц. Проверять нужно и при попытке записи (с выдачей предупреждения и отказом), и при изменении ИНН (с подсветкой поля ввода и/или выводом текста ошибки рядом с ним).

#### С формой списка

В форме списка должны присутствовать все существенные реквизиты в разумном порядке.

#### С модулем объекта

В коде которого определено заполнение по умолчанию:
* Тип - Юридическое лицо.
* Ответственный - текущий сотрудник из параметра сеанса **ТекущийСотрудник**.

### Перечисление Пол

#### Со значениями
Мужской, Женский

### Справочник Сотрудники

#### С реквизитами
EMail, ДатаРождения, ИдентификаторПользователяИБ, Оклад, Пол, СтавкаЧаса, Телефон.
Типы должны быть подходящими, их длина и точность - разумно достаточными.
Для сумм нужно использовать определяемый тип.

#### С модулем менеджера

В котором переопределено получение формы объекта в зависимости от права доступа "Администрирование".

#### С формой элемента ФормаАдминистратора

Которая открывается для пользователей с правом доступа "Администрирование".

В которой, помимо реквизитов сотрудника, есть флажок "Вход разрешен" и поля ввода "Имя для входа" и "Пароль", отражающие свойства пользователя ИБ.

При записи сотрудника из этой формы при необходимости должно выполняться:
* создание пользователя ИБ с ролью **БазовыеПрава**;
* изменение его пароля и имени для входа;
* при снятии флажка - отключение стандартной аутентификации.

Рядом с полем ввода пароля должна быть команда "Случайный пароль", генерирующая случайный пароль и показывающая его пользователю.

#### С формой элемента ФормаПользователя

Которая открывается для пользователей без права доступа "Администрирование" и содержит элементы управления для реквизитов сотрудника, упорядоченные по смыслу.

### Константу и функциональную опцию ВестиРасчетЗарплаты

Константа не должна присутствовать в командном интерфейсе сама по себе (флажок "Использовать стандартные команды" должен быть снят).
В состав ФО должны входить зарплатные реквизиты справочника **Сотрудники**, а константа должна присутствовать флажком в общей форме **НастройкаПрограммы**.

### Общую форму и общую команду **НастройкаПрограммы**

Форма должна содержать основной реквизит типа **НаборКонстант** и поле флажка для константы **ВестиРасчетЗарплаты**.
Общая команда должна открывать общую форму, принадлежать подсистеме **Настройки** и присутствовать в командном интерфейсе раздела "Настройки".

### Параметр сеанса ТекущийСотрудник

Типа **СправочникСсылка.Сотрудники**. Должен заполняться элементом справочника **Сотрудники**, идентификатор пользователя ИБ которого совпадает с идентификатором текущего пользователя ИБ.

### Роли БазовыеПрава и ПолныеПрава

Роль **ПолныеПрава** должна давать права на все, кроме:
* интерактивного удаления элементов справочников;
* пометки на удаление и удаления помеченных предопределенных элементов справочников. 

Роль **БазовыеПрава** должна давать права на чтение, просмотр и ввод по строке всех данных. Редактирование, добавление и изменение разрешается только для справочника **Контрагенты**. Роль не должна давать права на открытие настроек программы.

### Подсистему "Настройки"

Содержащую все справочники и общую команду **НастройкаПрограммы**.

## Результат [Выгрузка ИБ](https://github.com/MikeMadudin/onec_diploma/blob/main/diploma_block_A/%D0%92%D1%8B%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0%D0%94%D0%B8%D0%BF%D0%BB%D0%BE%D0%BC%D0%91%D0%BB%D0%BE%D0%BAA.dt)
